# Status Update (2026-02-16)

This note summarizes the retrieval/trust changes implemented in the current iteration and the present codebase status.

## Implemented changes

- Staged uncertainty fallback in runtime retrieval:
  - Stage 1: broadened routed-law retrieval with lexical support checks.
  - Stage 2: optional unfiltered fallback (profile/config controlled).
  - Diagnostics now expose `retrieval_fallback_stage`.
- Graceful strict-mode fallback:
  - When stage 2 is disabled, low-quality stage-1 results are kept instead of returning empty retrieval.
- Law-level signal enrichment:
  - Parser/catalog now emit normalized chapter titles and chapter keywords for stronger routing text.
- Coherence tie-break strengthening:
  - Deterministic tie-breaks now consider concentration, cross-reference affinity, and score consistency.
- Law-aware rank fusion:
  - Runtime final ordering now combines CE score, routing alignment, affinity, dominance context, and concentration.
- Confidence-gating semantics fix:
  - Gating now uses CE reranker scores only; fused scores are used for ranking only.
- Evaluation/governance updates:
  - `analyze_law_contamination.py` now outputs `hard_cluster_summary`.
  - Baseline JSON includes `gates_v2` and `gates_v3`.
  - `check_regression_gates.py` supports `--gate-tier`.
  - Sweep emits calibration diagnostics (`calibration_bins`, `expected_calibration_error`).
  - Sweep post-rerank logic now mirrors runtime fusion/cap behavior more closely.

## Current status

- Syntax and lint checks passed on changed Python modules.
- Runtime and sweep parity improved for post-rerank ranking behavior.
- Full long-running evaluation reruns are operationally pending (scripts were interrupted/stopped during interactive development).

## Outstanding operational follow-up

- Re-run full sweep and contamination analysis in a stable run window.
- Re-run regression gates for:
  - `--gate-tier v1` (backward guardrails)
  - `--gate-tier v2` (next-step hardening target)
- Capture and compare profile-default row outputs before promoting new defaults.
